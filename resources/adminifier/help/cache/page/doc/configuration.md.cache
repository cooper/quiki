{"css":"/* Background */ .bg { color: #272822; background-color: #fafafa; }\n/* PreWrapper */ .chroma { color: #272822; background-color: #fafafa; }\n/* Error */ .chroma .err { color: #960050; background-color: #1e0010 }\n/* LineLink */ .chroma .lnlinks { outline: none; text-decoration: none; color: inherit }\n/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }\n/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }\n/* LineHighlight */ .chroma .hl { background-color: #e1e1e1 }\n/* LineNumbersTable */ .chroma .lnt { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }\n/* LineNumbers */ .chroma .ln { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }\n/* Line */ .chroma .line { display: flex; }\n/* Keyword */ .chroma .k { color: #00a8c8 }\n/* KeywordConstant */ .chroma .kc { color: #00a8c8 }\n/* KeywordDeclaration */ .chroma .kd { color: #00a8c8 }\n/* KeywordNamespace */ .chroma .kn { color: #f92672 }\n/* KeywordPseudo */ .chroma .kp { color: #00a8c8 }\n/* KeywordReserved */ .chroma .kr { color: #00a8c8 }\n/* KeywordType */ .chroma .kt { color: #00a8c8 }\n/* Name */ .chroma .n { color: #111111 }\n/* NameAttribute */ .chroma .na { color: #75af00 }\n/* NameClass */ .chroma .nc { color: #75af00 }\n/* NameConstant */ .chroma .no { color: #00a8c8 }\n/* NameDecorator */ .chroma .nd { color: #75af00 }\n/* NameEntity */ .chroma .ni { color: #111111 }\n/* NameException */ .chroma .ne { color: #75af00 }\n/* NameLabel */ .chroma .nl { color: #111111 }\n/* NameNamespace */ .chroma .nn { color: #111111 }\n/* NameOther */ .chroma .nx { color: #75af00 }\n/* NameProperty */ .chroma .py { color: #111111 }\n/* NameTag */ .chroma .nt { color: #f92672 }\n/* NameBuiltin */ .chroma .nb { color: #111111 }\n/* NameBuiltinPseudo */ .chroma .bp { color: #111111 }\n/* NameVariable */ .chroma .nv { color: #111111 }\n/* NameVariableClass */ .chroma .vc { color: #111111 }\n/* NameVariableGlobal */ .chroma .vg { color: #111111 }\n/* NameVariableInstance */ .chroma .vi { color: #111111 }\n/* NameVariableMagic */ .chroma .vm { color: #111111 }\n/* NameFunction */ .chroma .nf { color: #75af00 }\n/* NameFunctionMagic */ .chroma .fm { color: #75af00 }\n/* Literal */ .chroma .l { color: #ae81ff }\n/* LiteralDate */ .chroma .ld { color: #d88200 }\n/* LiteralString */ .chroma .s { color: #d88200 }\n/* LiteralStringAffix */ .chroma .sa { color: #d88200 }\n/* LiteralStringBacktick */ .chroma .sb { color: #d88200 }\n/* LiteralStringChar */ .chroma .sc { color: #d88200 }\n/* LiteralStringDelimiter */ .chroma .dl { color: #d88200 }\n/* LiteralStringDoc */ .chroma .sd { color: #d88200 }\n/* LiteralStringDouble */ .chroma .s2 { color: #d88200 }\n/* LiteralStringEscape */ .chroma .se { color: #8045ff }\n/* LiteralStringHeredoc */ .chroma .sh { color: #d88200 }\n/* LiteralStringInterpol */ .chroma .si { color: #d88200 }\n/* LiteralStringOther */ .chroma .sx { color: #d88200 }\n/* LiteralStringRegex */ .chroma .sr { color: #d88200 }\n/* LiteralStringSingle */ .chroma .s1 { color: #d88200 }\n/* LiteralStringSymbol */ .chroma .ss { color: #d88200 }\n/* LiteralNumber */ .chroma .m { color: #ae81ff }\n/* LiteralNumberBin */ .chroma .mb { color: #ae81ff }\n/* LiteralNumberFloat */ .chroma .mf { color: #ae81ff }\n/* LiteralNumberHex */ .chroma .mh { color: #ae81ff }\n/* LiteralNumberInteger */ .chroma .mi { color: #ae81ff }\n/* LiteralNumberIntegerLong */ .chroma .il { color: #ae81ff }\n/* LiteralNumberOct */ .chroma .mo { color: #ae81ff }\n/* Operator */ .chroma .o { color: #f92672 }\n/* OperatorWord */ .chroma .ow { color: #f92672 }\n/* Punctuation */ .chroma .p { color: #111111 }\n/* Comment */ .chroma .c { color: #75715e }\n/* CommentHashbang */ .chroma .ch { color: #75715e }\n/* CommentMultiline */ .chroma .cm { color: #75715e }\n/* CommentSingle */ .chroma .c1 { color: #75715e }\n/* CommentSpecial */ .chroma .cs { color: #75715e }\n/* CommentPreproc */ .chroma .cp { color: #75715e }\n/* CommentPreprocFile */ .chroma .cpf { color: #75715e }\n/* GenericEmph */ .chroma .ge { font-style: italic }\n/* GenericStrong */ .chroma .gs { font-weight: bold }\n\n","file":"doc/configuration.md","file_ne":"doc/configuration","base":"configuration.md","base_ne":"configuration","created":"2025-08-31T15:13:12.995929304-04:00","modified":"2025-08-31T15:13:12.995929304-04:00","generated":true,"external":true,"fmt_title":"Configuration","title":"Configuration","author":"Markdown","preview":"Contents Configuration Configuration files wikifier options name host.wiki dir.wiki root root.ext external page.enable.title page.code.lang"}
<div class="q-main-doc/configuration q-main">
    <ul class="q-toc">
        <li><strong>Contents</strong></li>
        <li>
            <a class="q-link-internal" href="#configuration">
                Configuration
            </a>
            <ul>
                <li>
                    <a class="q-link-internal" href="#configuration-files">
                        Configuration files
                    </a>
                </li>
                <li>
                    <a class="q-link-internal" href="#wikifier-options">
                        wikifier options
                    </a>
                    <ul>
                        <li>
                            <a class="q-link-internal" href="#name">
                                name
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#hostwiki">
                                host.wiki
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#dirwiki">
                                dir.wiki
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#root">
                                root
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#rootext">
                                root.ext
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#external">
                                external
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#pageenabletitle">
                                page.enable.title
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#pagecodelang">
                                page.code.lang
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#pagecodestyle">
                                page.code.style
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagesize_method">
                                image.size_method
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagecalc">
                                image.calc
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagemax_concurrent">
                                image.max_concurrent
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imageprocessor">
                                image.processor
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagequality">
                                image.quality
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagemax_memory_mb">
                                image.max_memory_mb
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagetimeout_seconds">
                                image.timeout_seconds
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagepregen_thumbs">
                                image.pregen_thumbs
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagesizer">
                                image.sizer
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="q-link-internal" href="#wiki-public-options">
                        Wiki public options
                    </a>
                    <ul>
                        <li>
                            <a class="q-link-internal" href="#authenable">
                                auth.enable
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#authrequire">
                                auth.require
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#authregister">
                                auth.register
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagetype">
                                image.type
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagequality-1">
                                image.quality
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imageretina">
                                image.retina
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#imagearbitrary_sizes">
                                image.arbitrary_sizes
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#pageenablecache">
                                page.enable.cache
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#catper_page">
                                cat.per_page
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#catnamemain">
                                cat.[name].main
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#catnametitle">
                                cat.[name].title
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#var">
                                var.*
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="q-link-internal" href="#wiki-extended-options">
                        Wiki extended options
                    </a>
                    <ul>
                        <li>
                            <a class="q-link-internal" href="#main_page">
                                main_page
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#main_redirect">
                                main_redirect
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#error_page">
                                error_page
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#navigation">
                                navigation
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#template">
                                template
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#logo">
                                logo
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="q-link-internal" href="#webserver-options">
                        webserver options
                    </a>
                    <ul>
                        <li>
                            <a class="q-link-internal" href="#servername">
                                server.name
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverdirresource">
                                server.dir.resource
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverdirwiki">
                                server.dir.wiki
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverenablepregeneration">
                                server.enable.pregeneration
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenmode">
                                server.pregen.mode
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="q-link-internal" href="#advanced-pregeneration-options">
                        Advanced Pregeneration Options
                    </a>
                    <ul>
                        <li>
                            <a class="q-link-internal" href="#serverpregenrate_limit">
                                server.pregen.rate_limit
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenpage_priority">
                                server.pregen.page_priority
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenpage_background">
                                server.pregen.page_background
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenimg_priority">
                                server.pregen.img_priority
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenimg_background">
                                server.pregen.img_background
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenpage_workers">
                                server.pregen.page_workers
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenpage_bg_workers">
                                server.pregen.page_bg_workers
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenimg_workers">
                                server.pregen.img_workers
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenimg_bg_workers">
                                server.pregen.img_bg_workers
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregentimeout">
                                server.pregen.timeout
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenforce">
                                server.pregen.force
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenverbose">
                                server.pregen.verbose
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenimages">
                                server.pregen.images
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregencleanup">
                                server.pregen.cleanup
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverpregenmax_tracking">
                                server.pregen.max_tracking
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="q-link-internal" href="#pregeneration-configuration-examples">
                        Pregeneration Configuration Examples
                    </a>
                    <ul>
                        <li>
                            <a class="q-link-internal" href="#high-performance-setup">
                                High-Performance Setup
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#resource-conservative-setup">
                                Resource-Conservative Setup
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#custom-balanced-setup">
                                Custom Balanced Setup
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverenablemonitor">
                                server.enable.monitor
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverhttpport">
                                server.http.port
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverhttpbind">
                                server.http.bind
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverhttphost">
                                server.http.host
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverdomain">
                                server.domain
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverdirtemplate">
                                server.dir.template
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverwikinameenable">
                                server.wiki.[name].enable
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#serverwikinamedir">
                                server.wiki.[name].dir
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#adminifierenable">
                                adminifier.enable
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#adminifierhost">
                                adminifier.host
                            </a>
                        </li>
                        <li>
                            <a class="q-link-internal" href="#adminifierroot">
                                adminifier.root
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <div class="q-sec">
        <h1 class="q-sec-title" id="qa-configuration">
            Configuration
        </h1>
        <p class="q-p">
            This document describes all of the available configuration options. The options
            are categorized by the lowest-level quiki interface at which they are used.
            Some are required for the generation of a single page, others for the operation
            of a full wiki, and others yet for the operation of a webserver or frontend.
        </p>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-configuration-files">
                Configuration files
            </h2>
            <p class="q-p">
                The primary method of configuration is to define options in a configuration
                file. All quiki configuration files are written in the quiki language:
            </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@name:      MyWiki;             /* assign a string option */
</span></span><span class="line"><span class="cl">@page.enable.cache;             /* enable a boolean option */
</span></span><span class="line"><span class="cl">-@page.enable.title;            /* disable a boolean option */
</span></span></pre>
            <p class="q-p">
                If you are using <span style="font-weight: bold;">quiki webserver</span>, you must have a dedicated configuration
                file for the webserver. This tells it where to listen and where to find the
                wikis you have configured on the server. This file is called <code>quiki.conf</code> and
                is located in your quiki directory (default: <code>~/quiki/quiki.conf</code>).
            </p>
            <p class="q-p">
                <span style="font-weight: bold;">Every wiki</span> also requires its own configuration file called
                <code>wiki.conf</code> at the root level of the wiki directory.
            </p>
        </div>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-wikifier-options">
                wikifier options
            </h2>
            <p class="q-p">
                These options are available to the wikifier engine, the lowest level API
                for rendering pages.
            </p>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-name">
                    name
                </h3>
                <p class="q-p">
                    Name of the wiki.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <span style="font-style: italic;">Wiki</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-hostwiki">
                    host.wiki
                </h3>
                <p class="q-p">
                    Hostname for the wiki.
                </p>
                <p class="q-p">
                    It may be overridden in the server configuration by
                    <a class="q-link-internal" href="#serverwikinamehost" title="§ serverwikinamehost"><code>server.wiki.[name].host</code></a>.
                </p>
                <p class="q-p">
                    If specified in neither place, the wiki is accessible from all available hosts.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: None (all hosts)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-dirwiki">
                    dir.wiki
                </h3>
                <p class="q-p">
                    Path to the wiki.
                </p>
                <p class="q-p">
                    With webserver, this can be omitted if either:
                </p>
                <ol class="q-numlist">
                    <li class="q-list-item">
                        <a class="q-link-internal" href="#serverdirwiki" title="§ serverdirwiki"><code>server.dir.wiki</code></a> is configured, and the wiki is located in that directory.
                    </li>
                    <li class="q-list-item">
                        <a class="q-link-internal" href="#serverwikinamedir" title="§ serverwikinamedir"><code>server.wiki.[name].dir</code></a> is configured.
                    </li>
                </ol>
                <p class="q-p">
                    In all other cases, it is <span style="font-weight: bold;">Required</span>.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): <a class="q-link-internal" href="#serverdirwiki" title="§ serverdirwiki"><code>server.dir.wiki</code></a><code>/[name]</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-root">
                    root
                </h3>
<table class="q-table">
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>

<tbody>
<tr>
<td>[c]root.wiki[/c]</td>
<td>Wiki root</td>
<td>None (i.e. /)</td>
</tr>

<tr>
<td>[c]root.page[/c]</td>
<td>Page root</td>
<td>[i]/page[/i]</td>
</tr>

<tr>
<td>[c]root.image[/c]</td>
<td>Image root</td>
<td>[i]/images[/i]</td>
</tr>

<tr>
<td>[c]root.file[/c]</td>
<td>File root</td>
<td>None</td>
</tr>
</tbody>
</table>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. HTTP roots. These are relative to the server HTTP root, NOT the
                    wiki root. They are used for link targets and image URLs; they will never be
                    used to locate content on the filesystem. Do not include trailing slashes.
                </p>
                <p class="q-p">
                    It may be useful to use <code>root.wiki</code> within the definitions of the rest:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@root.wiki:     /mywiki;
</span></span><span class="line"><span class="cl">@root.page:     [@root.wiki]/page;
</span></span><span class="line"><span class="cl">@root.image:    [@root.wiki]/images;
</span></span></pre>
                <p class="q-p">
                    If you specify <code>root.file</code>, the entire wiki directory (as specified by
                    <a class="q-link-internal" href="#dirwiki" title="§ dirwiki"><code>dir.wiki</code></a>) will be indexed by the web server at this path. Note
                    that this will likely expose your wiki configuration.
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-rootext">
                    root.ext
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The full external prefix of the wiki.
                </p>
                <p class="q-p">
                    It is used by adminifier to link to the wiki. It may also be used by frontends.
                    You should configure this if serving quiki through a reverse proxy. Otherwise, the
                    default should probably suffice. Do not include trailing slash.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@root.ext: https://mywiki.example.com;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver/adminifier): <code>http://&lt;host.wiki || server.http.host&gt;:&lt;server.http.port&gt;/&lt;root.wiki&gt;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-external">
                    external
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. External wiki information.
                </p>
                <p class="q-p">
                    You can configure any number of external wikis, each referred to by a shorthand
                    identifier <code>[wiki_id]</code> consisting of word-like characters.
                </p>
<table class="q-table">
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>

<tbody>
<tr>
<td>[c]external.\[wiki_id\].name[/c]</td>
<td>External wiki name, displayed in link tooltips</td>
<td></td>
</tr>

<tr>
<td>[c]external.\[wiki_id\].root[/c]</td>
<td>External wiki page root</td>
<td></td>
</tr>

<tr>
<td>[c]external.\[wiki_id\].type[/c]</td>
<td>External wiki type</td>
<td>[i]quiki[/i]</td>
</tr>
</tbody>
</table>
                <p class="q-p">
                    Accepted values for <code>type</code>
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        <span style="font-style: italic;">quiki</span> (this is default)
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">mediawiki</span>
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">none</span> (URI encode only)
                    </li>
                </ul>
                <p class="q-p">
                    The default configuration includes the <code>wp</code> identifier for the
                    <a class="q-link-other" href="http://en.wikipedia.org">English Wikipedia</a>:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl"><span class="err">@</span><span class="n">external</span><span class="o">.</span><span class="n">wp</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span><span class="p">:</span> <span class="n">Wikipedia</span><span class="p">;</span>  <span class="o">/*</span> <span class="n">appears</span> <span class="ow">in</span> <span class="n">tooltip</span> <span class="o">*/</span>
</span></span><span class="line"><span class="cl">    <span class="n">root</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">en</span><span class="o">.</span><span class="n">wikipedia</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">wiki</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">type</span><span class="p">:</span> <span class="n">mediawiki</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></pre>
                <p class="q-p">
                    From the page source, this looks like:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">[[ Cats | wp: Cat ]] are a type of [[ wp: animal ]].
</span></span></pre>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-pageenabletitle">
                    page.enable.title
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. If enabled, the first section&#39;s heading defaults to the title of the
                    page, and all other headings on the page are sized down one.
                </p>
                <p class="q-p">
                    You may want to disable this at the wiki level if your wiki content is
                    embedded within a template that has its own place for the page title:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">-@page.enable.title;
</span></span></pre>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-pagecodelang">
                    page.code.lang
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The default language to use for syntax highlighting of
                    <a class="q-link-internal" href="/pagereplace/doc/blocks#code" title="blocks § code"><code>code{}</code></a> blocks.
                </p>
                <p class="q-p">
                    See <a class="q-link-other" href="https://github.com/alecthomas/chroma#supported-languages">this site</a> for
                    a list of supported languages.
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-pagecodestyle">
                    page.code.style
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The default style to use for syntax highlighting of
                    <a class="q-link-internal" href="/pagereplace/doc/blocks#code" title="blocks § code"><code>code{}</code></a> blocks.
                </p>
                <p class="q-p">
                    See <a class="q-link-other" href="https://xyproto.github.io/splash/docs/index.html">this site</a> for
                    a list of available styles.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Enabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagesize_method">
                    image.size_method
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The method which quiki should use to scale images.
                </p>
                <p class="q-p">
                    This is here for purposes of documentation only; there&#39;s probably no reason
                    to ever stray away from the default for whichever quiki interface is used.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Accepted values</span>
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        <span style="font-style: italic;">javascript</span> - JavaScript-injected image sizing
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">server</span> - server-side image sizing using <a class="q-link-internal" href="#imagesizer" title="§ imagesizer"><code>image.sizer</code></a> and <a class="q-link-internal" href="#imagecalc" title="§ imagecalc"><code>image.calc</code></a> (recommended)
                    </li>
                </ul>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): <span style="font-style: italic;">server</span>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (low-level): <span style="font-style: italic;">javascript</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagecalc">
                    image.calc
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. A function reference that calculates a missing dimension of an image.
                    This is utilized only when <a class="q-link-internal" href="#imagesize_method" title="§ imagesize_method"><code>image.size_method</code></a> is <span style="font-style: italic;">server</span>.
                </p>
                <p class="q-p">
                    This is here for purposes of documentation only and can only be configured
                    using quiki&#39;s wikifier engine API directly.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: (webserver) built-in function
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagemax_concurrent">
                    image.max_concurrent
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Maximum number of concurrent image processing operations.
                </p>
                <p class="q-p">
                    Limits how many images can be processed simultaneously to prevent system
                    overload and memory exhaustion. quiki also monitors available memory and throttles accordingly.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: 2
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imageprocessor">
                    image.processor
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The image processing backend to use.
                </p>
                <p class="q-p">
                    Controls which image processing engine is used for resizing and manipulation. By default, we try processors in order of performance:
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Accepted values</span>
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        <span style="font-style: italic;">auto</span> - Automatic selection: libvips -&gt; imagemagick -&gt; pure go (recommended)
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">vips</span> - Use libvips only (highest performance, 4-8x faster than ImageMagick)
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">imagemagick</span> - Use ImageMagick only (high performance as compared to Go)
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">go</span> - Use Pure Go only (most portable, worst performance, crashes with large images)
                    </li>
                </ul>
                <p class="q-p">
                    <span style="font-weight: bold;">Installation</span>
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        <span style="font-style: italic;">vips</span>: <code>brew install vips</code> or <code>apt-get install libvips-tools</code>
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">imagemagick</span>: <code>brew install imagemagick</code> or <code>apt-get install imagemagick</code>
                    </li>
                </ul>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@image.processor: vips;</code>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: auto
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagequality">
                    image.quality
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. JPEG quality setting for libvips/ImageMagick processors (1-100).
                </p>
                <p class="q-p">
                    Only used when <code>processor</code> is set to &#34;vips&#34;, &#34;imagemagick&#34;, or &#34;auto&#34; (when libvips/ImageMagick is available). Higher values mean better quality but larger file sizes to store and transfer.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@image.quality: 85;</code>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: 85
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagemax_memory_mb">
                    image.max_memory_mb
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Maximum memory usage per image in megabytes.
                </p>
                <p class="q-p">
                    Prevents crashes from loading extremely large images by checking dimensions
                    before processing. An image requiring more memory will be rejected. Additionally,
                    quiki monitors memory usage and reduces concurrency when memory is low to prevent crashing.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: 256
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagetimeout_seconds">
                    image.timeout_seconds
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Maximum processing time per image operation in seconds.
                </p>
                <p class="q-p">
                    Prevents hanging on slow image operations. Processing will be aborted if
                    it takes longer than this limit.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: 20
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagepregen_thumbs">
                    image.pregen_thumbs
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Comma-separated list of thumbnail sizes to pregenerate automatically.
                </p>
                <p class="q-p">
                    This setting controls which thumbnail sizes are generated in the background
                    when images are first processed, improving performance for common sizes.
                </p>
                <p class="q-p">
                    Each entry can be either:
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        A single number (e.g., &#34;250&#34;) - constrains the larger dimension to this size
                    </li>
                    <li class="q-list-item">
                        Exact dimensions (e.g., &#34;400x300&#34;) - generates exactly this size
                    </li>
                </ul>
                <p class="q-p">
                    The default value of &#34;250&#34; ensures adminifier gallery previews load quickly.
                    Additional sizes can be added for custom interfaces or common usage patterns.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@image.pregen_thumbs: 250,150,400x300,800;</code>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: 250 (for adminifier thumbnail preloading)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagesizer">
                    image.sizer
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. A function reference that returns the URL to a sized version of an image. After
                    using <a class="q-link-internal" href="#imagecalc" title="§ imagecalc"><code>image.calc</code></a> to find the dimensions of an image,
                    <code>image.sizer</code> is called to generate a URL for the image at those dimensions.
                </p>
                <p class="q-p">
                    This is here for purposes of documentation only and can only be configured
                    using quiki&#39;s wikifier engine API directly.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: (webserver) built-in function
                </p>
            </div>
        </div>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-wiki-public-options">
                Wiki public options
            </h2>
            <p class="q-p">
                These options are available to the wiki website interface.
            </p>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-authenable">
                    auth.enable
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. When enabled, the wiki has its own user management system and can create
                    and manage users independently. When disabled, user management is prohibited, and all
                    HTTP users are assumed to have read access to the wiki.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@auth.enable;     /* enable wiki user management (default) */
</span></span><span class="line"><span class="cl">-@auth.enable;    /* disable user management, assume public read access */
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Enabled (but with public viewing / no login requirement)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-authrequire">
                    auth.require
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. When enabled, users must be logged in to view the wiki content. When disabled
                    (default), the wiki is publicly accessible and can be viewed by anyone.
                </p>
                <p class="q-p">
                    <code>auth.require</code> implies <code>auth.enable</code> also.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@auth.require;     /* require authentication to view wiki */
</span></span><span class="line"><span class="cl">-@auth.require;    /* public wiki (default) */
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Disabled (public)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-authregister">
                    auth.register
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. When enabled, allows new users to register accounts through the web.
                    This option only has effect when <code>auth.enable</code> is also enabled.
                </p>
                <p class="q-p">
                    Further, if you wish to restrict access to authenticated users,
                    see <code>auth.require</code>.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@auth.register;    /* allow web registration */
</span></span><span class="line"><span class="cl">-@auth.register;   /* no web registration (default) */
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Disabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagetype">
                    image.type
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The desired file type for generated images.
                </p>
                <p class="q-p">
                    When configured, all resulting images will be in this format, regardless of
                    their original format. Unless you have a specific reason to do this, omit
                    this option to preserve original image formats.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Accepted values</span>
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        <span style="font-style: italic;">png</span> - larger, lossless compression
                    </li>
                    <li class="q-list-item">
                        <span style="font-style: italic;">jpeg</span> - smaller, lossy compression
                    </li>
                </ul>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: none (preserve original format)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagequality-1">
                    image.quality
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The desired quality of generated images with lossy compression. This is only
                    utilized if <a class="q-link-internal" href="#imagetype" title="§ imagetype"><code>image.type</code></a> is set to <span style="font-style: italic;">jpeg</span>.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <span style="font-style: italic;">100</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imageretina">
                    image.retina
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Image scales to enable for displays with a greater than 1:1 pixel ratio.
                </p>
                <p class="q-p">
                    For instance, to support both @2x and @3x scaling:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@image.retina: 2, 3;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <span style="font-style: italic;">2, 3</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-imagearbitrary_sizes">
                    image.arbitrary_sizes
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. When enabled, users can request any image size, even those not referenced
                    in the wiki content. When disabled (default), users can only access image sizes that
                    are explicitly referenced somewhere in the wiki content.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@image.arbitrary_sizes;     /* enabled (not recommended for public wikis) */
</span></span><span class="line"><span class="cl">-@image.arbitrary_sizes;    /* disabled (recommended) */
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Disabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-pageenablecache">
                    page.enable.cache
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Enable caching of generated pages.
                </p>
                <p class="q-p">
                    For best performance, page caching is enabled by default, and quiki will
                    only generate pages if the source file has been modified since the cache
                    file was last written.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Enabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-catper_page">
                    cat.per_page
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Maximum number of pages to display on a single category posts page.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <span style="font-style: italic;">5</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-catnamemain">
                    cat.[name].main
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Set the main page for the category by the name of <code>[name]</code>.
                    This means that it will be displayed before all other categories, regardless
                    of their creation dates. The value of this option is the page filename.
                </p>
                <p class="q-p">
                    You can also mark a page as the main page of a category from within the page
                    source itself, like so:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@category.some_cat.main;
</span></span></pre>
                <p class="q-p">
                    If multiple pages are marked as the main page of a category, the one with
                    the most recent creation time is preferred. If this option is provided,
                    however, the page specified by it will always take precedence.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: none (show newest first)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-catnametitle">
                    cat.[name].title
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Sets the human-readable title for the category by the name of <code>[name]</code>.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: none
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-var">
                    var.*
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Global wiki variable space. Variables defined in this space will be
                    available throughout the wiki. However they may be overwritten on a
                    particular page.
                </p>
                <p class="q-p">
                    Example (in config):
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl"><span class="err">@</span><span class="k">var</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">url</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">mywiki</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="err">@</span><span class="k">var</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">display_name</span><span class="p">:</span> <span class="n">MyWiki</span><span class="p">;</span>
</span></span></pre>
                <p class="q-p">
                    Example (on main page):
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">Welcome to [@site.display_name]!
</span></span></pre>
            </div>
        </div>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-wiki-extended-options">
                Wiki extended options
            </h2>
            <p class="q-p">
                These options are not used by the wiki API directly but are standardized
                here so that there is consistency amongst various frontends such as webserver.
            </p>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-main_page">
                    main_page
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Name of the main page.
                </p>
                <p class="q-p">
                    This should not be the page&#39;s title but rather a filename, relative to the
                    wiki page directory. The extension is not necessary.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@main_page: Welcome Page; /* normalized to welcome_page.page */
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): None
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-main_redirect">
                    main_redirect
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. If enabled, the wiki root redirects to the main page rather than just
                    rendering it at the root location.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@main_redirect;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): Disabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-error_page">
                    error_page
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Name of the error page.
                </p>
                <p class="q-p">
                    This should not be the page&#39;s title but rather a filename, relative to the
                    wiki page directory. The extension is not necessary.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@error_page: Error; /* normalized to error.page */
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): None (show generic error text)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-navigation">
                    navigation
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Navigation items.
                </p>
                <p class="q-p">
                    Keys are unformatted text to be displayed, with spaces permitted.
                    Values are URLs, relative to the current page (NOT the wiki root).
                </p>
                <p class="q-p">
                    It is good practice to refer to <a class="q-link-internal" href="#root" title="§ root"><code>root</code></a>:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@navigation: {
</span></span><span class="line"><span class="cl">    Main page:  [@root.page]/welcome_page;
</span></span><span class="line"><span class="cl">    Rules:      [@root.page]/rules;
</span></span><span class="line"><span class="cl">};
</span></span></pre>
                <p class="q-p">
                    You can nest maps to create sublists at any level, but the number of levels
                    supported depends on the frontend or template being used by the wiki.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@navigation: {
</span></span><span class="line"><span class="cl">    Home: /page/welcome;
</span></span><span class="line"><span class="cl">    About: {
</span></span><span class="line"><span class="cl">        Company info: /page/our_company;
</span></span><span class="line"><span class="cl">        Facebook: http://facebook.com/our.company;
</span></span><span class="line"><span class="cl">    };
</span></span><span class="line"><span class="cl">    Contact: /contact;
</span></span><span class="line"><span class="cl">};
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): None
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-template">
                    template
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Name or path of the template used by the wiki.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@template: default;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span> (webserver): <span style="font-style: italic;">default</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-logo">
                    logo
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Filename for the wiki logo, relative to the wiki image directory.
                </p>
                <p class="q-p">
                    Frontends like webserver automatically generate the logo in whatever dimensions
                    are needed and display it where appropriate.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@logo: logo.png;
</span></span></pre>
            </div>
        </div>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-webserver-options">
                webserver options
            </h2>
            <p class="q-p">
                These options are respected by the quiki webserver.
            </p>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-servername">
                    server.name
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The human-readable name of the server.
                </p>
                <p class="q-p">
                    This is used for page titles and administrative interface headings. When not
                    specified, &#34;quiki&#34; is used as the default server name.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.name: My Server;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <span style="font-style: italic;">quiki</span>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverdirresource">
                    server.dir.resource
                </h3>
                <p class="q-p">
                    Path to quiki&#39;s <code>resources</code> directory.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@repo: .;       /* where quiki is cloned */
</span></span><span class="line"><span class="cl">@server.dir.resource:   [@repo]/resources;
</span></span></pre>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverdirwiki">
                    server.dir.wiki
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Path to some directory where wikis are stored.
                </p>
                <p class="q-p">
                    Your wikis do not all have to be in the same directory, so this is optional.
                    However, if you make use of this, quiki can infer <a class="q-link-internal" href="#dirwiki" title="§ dirwiki"><code>dir.wiki</code></a> for each
                    wiki, allowing you to omit the <a class="q-link-internal" href="#serverwikinamedir" title="§ serverwikinamedir"><code>server.wiki.[name].dir</code></a>
                    options.
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverenablepregeneration">
                    server.enable.pregeneration
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. If enabled, webserver pre-generates all pages and images upon start.
                </p>
                <p class="q-p">
                    When disabled, the unified queue-only generation system is still used for all requests,
                    but startup background queuing is skipped.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Requires</span>: <a class="q-link-internal" href="#pageenablecache" title="§ pageenablecache"><code>page.enable.cache</code></a>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Enabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenmode">
                    server.pregen.mode
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Controls the performance characteristics of the pregeneration system.
                </p>
                <p class="q-p">
                    Available modes:
                </p>
                <ul class="q-list">
                    <li class="q-list-item">
                        <code>default</code>: Balanced performance with intelligent worker scaling
                    </li>
                    <li class="q-list-item">
                        <code>fast</code>: High-performance mode with more workers and aggressive timeouts<br />
                    </li>
                    <li class="q-list-item">
                        <code>slow</code>: Resource-conservative mode with fewer workers and longer intervals
                    </li>
                </ul>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.pregen.mode: fast;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <code>default</code>
                </p>
            </div>
        </div>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-advanced-pregeneration-options">
                Advanced Pregeneration Options
            </h2>
            <p class="q-p">
                The following options allow fine-tuning of individual pregeneration parameters,
                overriding the preset modes. All are optional.
            </p>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenrate_limit">
                    server.pregen.rate_limit
                </h3>
                <p class="q-p">
                    Time between background generation operations. Affects both pages and images (images are automatically 2x slower). Does not affect HTTP requests, only background pregeneration.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.rate_limit: 5ms;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenpage_priority">
                    server.pregen.page_priority
                </h3>
                <p class="q-p">
                    Buffer size for high-priority requests (HTTP requests). Larger = less blocking.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.page_priority: 1000;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenpage_background">
                    server.pregen.page_background
                </h3>
                <p class="q-p">
                    Buffer size for background pregeneration. Larger = more content can be queued.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.page_background: 5000;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenimg_priority">
                    server.pregen.img_priority
                </h3>
                <p class="q-p">
                    Buffer size for high-priority image generation requests.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.img_priority: 200;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenimg_background">
                    server.pregen.img_background
                </h3>
                <p class="q-p">
                    Buffer size for background image pregeneration.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.img_background: 500;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenpage_workers">
                    server.pregen.page_workers
                </h3>
                <p class="q-p">
                    Number of workers handling high-priority requests. More = better concurrency.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.page_workers: 8;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenpage_bg_workers">
                    server.pregen.page_bg_workers
                </h3>
                <p class="q-p">
                    Number of workers handling background pregeneration. More = faster startup.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.page_bg_workers: 4;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenimg_workers">
                    server.pregen.img_workers
                </h3>
                <p class="q-p">
                    Number of workers handling high-priority image requests.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.img_workers: 6;</code>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: max(1, CPU_cores/4)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenimg_bg_workers">
                    server.pregen.img_bg_workers
                </h3>
                <p class="q-p">
                    Number of workers handling background image pregeneration.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.img_bg_workers: 2;</code>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: max(1, CPU_cores/8)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregentimeout">
                    server.pregen.timeout
                </h3>
                <p class="q-p">
                    Maximum time to wait for synchronous generation requests.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.timeout: 45s;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenforce">
                    server.pregen.force
                </h3>
                <p class="q-p">
                    Force regeneration even if cache is fresh. Useful for debugging.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.force: true;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenverbose">
                    server.pregen.verbose
                </h3>
                <p class="q-p">
                    Enable detailed logging of pregeneration operations.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.verbose: true;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenimages">
                    server.pregen.images
                </h3>
                <p class="q-p">
                    Enable pregeneration of image thumbnails.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.images: false;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregencleanup">
                    server.pregen.cleanup
                </h3>
                <p class="q-p">
                    How often to clean up tracking maps. Set to 0 to disable.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.cleanup: 15m;</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverpregenmax_tracking">
                    server.pregen.max_tracking
                </h3>
                <p class="q-p">
                    Maximum entries in tracking maps before forced cleanup.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Example</span>: <code>@server.pregen.max_tracking: 50000;</code>
                </p>
            </div>
        </div>
        <div class="q-sec">
            <h2 class="q-sec-title" id="qa-pregeneration-configuration-examples">
                Pregeneration Configuration Examples
            </h2>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-high-performance-setup">
                    High-Performance Setup
                </h3>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.pregeneration.mode: fast;
</span></span><span class="line"><span class="cl">@server.pregen.page_workers: 16;
</span></span><span class="line"><span class="cl">@server.pregen.page_priority: 2000;
</span></span><span class="line"><span class="cl">@server.pregeneration.rate_limit: 1ms;
</span></span><span class="line"><span class="cl">@server.pregen.timeout: 15s;
</span></span></pre>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-resource-conservative-setup">
                    Resource-Conservative Setup
                </h3>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.pregeneration.mode: slow;
</span></span><span class="line"><span class="cl">@server.pregen.page_bg_workers: 1;
</span></span><span class="line"><span class="cl">@server.pregeneration.rate_limit: 100ms;
</span></span><span class="line"><span class="cl">@server.pregen.cleanup: 1h;
</span></span></pre>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-custom-balanced-setup">
                    Custom Balanced Setup
                </h3>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.pregeneration.mode: default;
</span></span><span class="line"><span class="cl">@server.pregen.page_workers: 8;
</span></span><span class="line"><span class="cl">@server.pregen.page_bg_workers: 3;
</span></span><span class="line"><span class="cl">@server.pregen.img_workers: 4;
</span></span><span class="line"><span class="cl">@server.pregen.verbose: true;
</span></span></pre>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverenablemonitor">
                    server.enable.monitor
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. If enabled, webserver uses operating system facilities to monitor wiki
                    directories and pre-generate content when the source files are changed.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Requires</span>: <a class="q-link-internal" href="#pageenablecache" title="§ pageenablecache"><code>page.enable.cache</code></a>
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Enabled
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverhttpport">
                    server.http.port
                </h3>
                <p class="q-p">
                    <span style="font-weight: bold;">Required</span>. Port for HTTP server to listen on.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">server.http.port: 8080;
</span></span></pre>
                <p class="q-p">
                    You can also say <code>unix</code> to listen on a UNIX socket.
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverhttpbind">
                    server.http.bind
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Host to bind to.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.http.port: 8080;
</span></span><span class="line"><span class="cl">@server.http.bind: 127.0.0.1;
</span></span></pre>
                <p class="q-p">
                    Or, you can listen on a UNIX socket:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl"><span class="err">@</span><span class="n">server</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">port</span><span class="p">:</span>  <span class="n">unix</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="err">@</span><span class="n">server</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">bind</span><span class="p">:</span>  <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">quiki</span><span class="o">.</span><span class="n">sock</span><span class="p">;</span>
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: none (bind to all available hosts)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverhttphost">
                    server.http.host
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. The default host to serve wikis on if they don&#39;t specify <code>host.wiki</code>.
                </p>
                <p class="q-p">
                    Note this helps inform the value of <code>root.ext</code> for wikis that do not specify an
                    external root in their configuration. It is recommended you configure it to the
                    public host of your server.
                </p>
                <p class="q-p">
                    Should be a hostname only or IP only, e.g. <code>server.example.com</code>.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: None (serve wikis with no host configured on all hosts)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverdomain">
                    server.domain
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Cookie domain for session sharing across subdomains.
                </p>
                <p class="q-p">
                    When specified, session cookies will be set with this domain, allowing login
                    sessions to be shared between the adminifier and wikis served on different
                    subdomains. For example, setting <code>@server.domain: .example.com;</code> allows
                    sessions to work across <code>admin.example.com</code> and <code>wiki.example.com</code>.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.domain: .example.com;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Important</span>: It must start with a dot (.) for proper subdomain sharing.
                    <span style="font-weight: bold;">Default</span>: None (sessions limited to same host)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverdirtemplate">
                    server.dir.template
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Template search paths.
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@server.dir.template: /home/www/wiki-templates;
</span></span></pre>
                <p class="q-p">
                    This is a comma-separated list of paths to look for templates when they are
                    specified by name in the wiki configuration. If you&#39;re running multiple wikis
                    that share a template, or if you are using the default template, this
                    is useful. Otherwise, you can just specify the absolute path to each wiki&#39;s
                    template in the <a class="q-link-internal" href="#template" title="§ template">template</a> directive.
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverwikinameenable">
                    server.wiki.[name].enable
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Enable the wiki with shortname <code>[name]</code>.
                </p>
                <p class="q-p">
                    Any wikis configured that do not have this option present are skipped.
                    Any number of wikis can be configured on a single server using this.
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-serverwikinamedir">
                    server.wiki.[name].dir
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Path to the wiki with shortname <code>[name]</code>.
                </p>
                <p class="q-p">
                    This can be omitted if <a class="q-link-internal" href="#serverdirwiki" title="§ serverdirwiki"><code>server.dir.wiki</code></a> is set and
                    the wiki is located within that container. The shortname becomes the name of
                    its directory inside <code>server.dir.wiki</code>.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: <a class="q-link-internal" href="#serverdirwiki" title="§ serverdirwiki"><code>server.dir.wiki</code></a><code>/[name]</code>
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-adminifierenable">
                    adminifier.enable
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Enables the adminifier server administration panel.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: Disabled (but enabled in the example configuration)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-adminifierhost">
                    adminifier.host
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Specifies an HTTP host to bind to for the adminifier web panel.
                </p>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: None (i.e., adminifier is available on all hosts)
                </p>
            </div>
            <div class="q-sec">
                <h3 class="q-sec-title" id="qa-adminifierroot">
                    adminifier.root
                </h3>
                <p class="q-p">
                    <span style="font-style: italic;">Optional</span>. Specifies the HTTP root for the adminifier web panel.
                </p>
                <p class="q-p">
                    If <a class="q-link-internal" href="#adminifierhost" title="§ adminifierhost"><code>adminifier.host</code></a> is specified and that hostname is
                    dedicated to adminifier, you can set <code>adminifier.root</code> empty to occupy the
                    entire host, for example:
                </p>
<pre class="q-code chroma"><span class="line"><span class="cl">@adminifier.host: admin.mywiki.example.com;
</span></span><span class="line"><span class="cl">@adminifier.root: ;
</span></span></pre>
                <p class="q-p">
                    <span style="font-weight: bold;">Default</span>: None (i.e., <code>/</code>)
                </p>
            </div>
        </div>
    </div>
</div>
